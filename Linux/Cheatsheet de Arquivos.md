# Cheatsheet de Arquivos


O sistema de arquivos do Linux é organizado de forma hierárquica, com cada diretório e arquivo desempenhando funções específicas. Para administradores de sistemas, desenvolvedores e profissionais de segurança, conhecer os arquivos críticos do sistema pode ser essencial para monitorar, configurar e manter a segurança e o desempenho de servidores e estações de trabalho Linux. 

## `/var/log/access.log`

### Descrição
- **Localização**: `/var/log/access.log`
	- Este arquivo também pode ser encontrado dentro da pasta de servidores específicos como `/var/log/apache2/access.log`
	
- **Função**: Este arquivo é geralmente utilizado para registrar acessos HTTP em servidores web, como Apache ou Nginx. Ele contém informações detalhadas sobre cada requisição feita ao servidor, incluindo data, hora, endereço IP do cliente, recurso solicitado, método HTTP utilizado, código de resposta do servidor, e muito mais.

### Uso Comum
- **Monitoramento de Acessos**: Administradores de sistemas usam esse log para monitorar o tráfego e as atividades no servidor web, identificando padrões de acesso e detectando possíveis tentativas de intrusão ou abuso.
- **Análise Forense**: Em caso de ataque ou atividade suspeita, o access.log pode ser analisado para rastrear o comportamento do invasor.

### Exemplo de Uso
```bash
tail -f /var/log/access.log
```
Este comando exibe em tempo real as últimas entradas adicionadas ao log de acessos.

## `/etc/passwd`

### Descrição
- **Localização**: `/etc/passwd`
- **Função**: O arquivo `/etc/passwd` armazena informações sobre as contas de usuário do sistema. Cada linha deste arquivo corresponde a um usuário e contém campos separados por dois-pontos `:` que incluem o nome do usuário, senha criptografada (ou um marcador), UID (User ID), GID (Group ID), nome completo, diretório home, e shell padrão.

### Uso Comum
- **Gestão de Usuários**: Administradores de sistemas consultam esse arquivo para obter informações sobre contas de usuários.
- **Auditoria de Segurança**: Embora as senhas não sejam armazenadas diretamente aqui (apenas um marcador ou `x` indicando que a senha está em `/etc/shadow`), esse arquivo ainda é crítico para a segurança.

### Exemplo de Uso
```bash
cat /etc/passwd
```
Este comando exibe o conteúdo do arquivo, listando todas as contas de usuários.

## `/etc/shadow`

### Descrição
- **Localização**: `/etc/shadow`
- **Função**: O arquivo `/etc/shadow` armazena as senhas criptografadas dos usuários e informações relacionadas, como a data da última mudança de senha, requisitos de expiração e bloqueio de contas. Apenas o usuário root ou processos com privilégios elevados podem ler este arquivo, tornando-o essencial para a segurança do sistema.

### Uso Comum
- **Gestão de Senhas**: É usado por programas de autenticação para verificar as credenciais dos usuários durante o login.
- **Segurança**: Devido à natureza sensível das informações, é crucial garantir que este arquivo esteja protegido contra acesso não autorizado.

### Exemplo de Uso
```bash
sudo cat /etc/shadow
```
Este comando exibe o conteúdo do arquivo, mas requer privilégios de root devido à natureza sensível das informações.

## `/etc/services`

### Descrição
- **Localização**: `/etc/services`
- **Função**: O arquivo `/etc/services` mapeia serviços de rede para números de porta e protocolos correspondentes. Ele é usado por muitas aplicações e serviços para determinar quais portas devem ser usadas para se comunicar com outros serviços de rede.

### Uso Comum
- **Configuração de Rede**: Administradores de sistemas usam esse arquivo para verificar ou configurar serviços de rede, garantindo que eles estejam usando as portas corretas.
- **Depuração de Rede**: Quando há problemas de conectividade ou conflitos de porta, este arquivo pode ser consultado para entender quais serviços estão associados a quais portas.

### Exemplo de Uso
```bash
cat /etc/services | grep ssh
```
Este comando busca no arquivo `/etc/services` por serviços relacionados ao SSH, mostrando as portas e protocolos usados por ele.

## `/etc/protocols`

### Descrição
- **Localização**: `/etc/protocols`
- **Função**: O arquivo `/etc/protocols` mapeia nomes de protocolos de rede para os números de protocolo correspondentes usados na camada de rede do modelo TCP/IP. Ele inclui entradas para protocolos como IP, ICMP, TCP, UDP, entre outros. Cada linha do arquivo contém o nome do protocolo, o número associado, e uma breve descrição opcional.

### Uso Comum
- **Configuração e Depuração de Rede**: Administradores de sistemas consultam este arquivo para verificar a correspondência entre nomes de protocolos e seus números de protocolo. Isso pode ser útil em tarefas de configuração de rede, firewall e ao depurar problemas de comunicação entre dispositivos na rede.
- **Desenvolvimento de Software**: Desenvolvedores que trabalham com aplicações de rede podem consultar o `/etc/protocols` para garantir que estão utilizando o número de protocolo correto em suas implementações.

### Exemplo de Uso
```bash
cat /etc/protocols | grep udp
```
Este comando busca no arquivo `/etc/protocols` por informações relacionadas ao protocolo UDP, mostrando o número do protocolo e sua descrição.

### Exemplo de Entrada
```plaintext
tcp    6    TCP    # transmission control protocol
udp    17   UDP    # user datagram protocol
icmp   1    ICMP   # internet control message protocol
```
Esta entrada mostra que o protocolo TCP corresponde ao número 6, UDP ao número 17, e ICMP ao número 1.