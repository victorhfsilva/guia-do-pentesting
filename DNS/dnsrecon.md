# **DNSRecon**

## Introdução

**DNSRecon** é uma ferramenta poderosa para coleta de informações e auditoria de segurança relacionada ao DNS (Domain Name System). Desenvolvida em Python, o DNSRecon é amplamente utilizado por pentesters, analistas de segurança e administradores de rede para realizar testes de DNS e coletar informações valiosas sobre domínios. 

DNSRecon permite realizar uma série de operações de verificação de DNS, incluindo enumeração de registros, transferências de zona, verificação de segurança DNSSEC, e validação de servidores de e-mail (MX). Ele é uma ferramenta essencial durante a fase de reconhecimento em testes de penetração, ajudando a mapear a infraestrutura de um alvo a partir de registros DNS publicamente disponíveis.

## Características do DNSRecon

- **Enumeração de Registros DNS**: Coleta registros DNS como A, AAAA, CNAME, MX, SOA, NS, TXT, e SRV.
- **Transferência de Zona (Zone Transfer)**: Testa se os servidores de DNS do domínio estão vulneráveis a transferências de zona, que podem expor informações detalhadas da infraestrutura.
- **Verificação de Wildcards**: Verifica a existência de registros DNS wildcard que podem esconder subdomínios válidos.
- **Suporte a DNSSEC**: Valida configurações de DNSSEC e busca por chaves públicas DNSKEY.
- **Brute Force e Reverse Lookup**: Realiza ataques de força bruta em subdomínios e consultas reversas em intervalos de IP.

## Uso Básico do DNSRecon

DNSRecon oferece uma ampla gama de comandos e opções para a coleta de informações DNS. A seguir, detalhamos os usos mais comuns.

### Enumeração de Registros DNS

Para realizar uma enumeração básica de registros DNS (A, AAAA, MX, NS, SOA, etc.) de um domínio, utilize o comando:

```bash
dnsrecon -d exemplo.com
```

**Exemplo de Saída:**

```plaintext
[*] A Records
------------------------------------------------------------
| Hostname          | Address        | TTL     |
------------------------------------------------------------
| www.exemplo.com   | 192.168.1.1    | 3600    |
| mail.exemplo.com  | 192.168.1.2    | 3600    |
```

### Transferência de Zona (Zone Transfer)

A transferência de zona é um processo onde o servidor DNS revela todos os registros de um domínio. Se não estiver devidamente configurado, isso pode expor toda a infraestrutura da organização. Para testar se o servidor de um domínio permite transferências de zona, use:

```bash
dnsrecon -d exemplo.com -t axfr
```

Se o servidor permitir, o DNSRecon exibirá todos os registros da zona.

### Verificação de Registros DNSSEC

Para verificar se o DNSSEC (DNS Security Extensions) está configurado corretamente em um domínio, utilize o comando:

```bash
dnsrecon -d exemplo.com -t dnssec
```

Isso exibirá informações sobre as chaves DNSKEY e qualquer falha na implementação do DNSSEC.

### Ataque de Força Bruta em Subdomínios

DNSRecon permite realizar ataques de força bruta para encontrar subdomínios não documentados de um domínio. Para isso, utilize uma lista de subdomínios conhecida, como `subdomains.txt`:

```bash
dnsrecon -d exemplo.com -D subdomains.txt -t brt
```

Este comando tentará resolver cada subdomínio da lista contra o domínio especificado.

### Verificação de Wildcard DNS

Alguns domínios utilizam registros wildcard para resolver automaticamente qualquer subdomínio inexistente, mascarando subdomínios reais. Para verificar se um domínio utiliza wildcard, use:

```bash
dnsrecon -d exemplo.com -t wildcard
```

O resultado indicará se o domínio está usando essa técnica.

### Consulta Reversa (Reverse Lookup)

DNSRecon também pode realizar consultas reversas para descobrir nomes de host associados a intervalos de IP. Isso é útil para mapear possíveis servidores em um bloco de endereços.

```bash
dnsrecon -r 192.168.1.0/24
```

Esse comando fará consultas reversas no intervalo de IP especificado.

## Opções Adicionais do DNSRecon

- **`-n`**: Especifica o servidor DNS a ser utilizado para a consulta.
- **`-a`**: Realiza uma análise abrangente, incluindo transferências de zona, verificação de DNSSEC, e verificação de wildcard.
- **`-j`**: Exporta os resultados para um arquivo JSON, facilitando a análise posterior.
- **`-w`**: Salva os resultados em um arquivo de texto simples.

