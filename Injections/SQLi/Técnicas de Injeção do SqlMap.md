# Técnicas de Injeção Disponíveis no SQLmap

O SQLmap oferece várias técnicas de injeção SQL para explorar vulnerabilidades em bancos de dados. Cada técnica utiliza um método específico para manipular consultas SQL e extrair informações ou comprometer o banco de dados. Abaixo estão as principais técnicas de injeção disponíveis no SQLmap, juntamente com exemplos de queries SQL para cada uma.

### Union-Query Based - Injeção Baseada no UNION `--technique=U`

#### Descrição

A injeção baseada no UNION permite combinar os resultados de múltiplas consultas `SELECT` em uma única resposta, possibilitando a extração de dados adicionais.

#### Exemplo de Query SQL

```
1' UNION SELECT username, password FROM users--
```

#### Explicação

Essa query usa o operador `UNION` para combinar os resultados da consulta original com outra consulta que extrai os nomes de usuário e senhas da tabela `users`.


### Boolean-Based Injection - Injeção Baseada em Booleano `--technique=B`

#### Descrição

A injeção baseada em booleano é uma técnica de Blind SQLi onde condições booleanas (verdadeiras/falsas) são usadas para deduzir informações sobre o banco de dados, sem exibir erros diretos ou resultados visíveis.

#### Exemplo de Query SQL

```
xyz' AND SUBSTRING((SELECT Password FROM Users WHERE Username = 'Administrator'), 1, 1) > 'm
```

### Explicação

Caso a aplicação seja vulnerável a este ataque, a query acima retornará o valor esperado somente se a condição for verdadeira, ou seja se o primeiro caractere da senha for maior que m. 

## Error-Based Injection - Injeção Baseada em Erro

### Descrição

A injeção baseada em erro força o banco de dados a gerar mensagens de erro, que podem revelar informações úteis, como dados do banco ou a estrutura da tabela.

### Parâmetro no SQLmap

`E`

### Exemplo de Query SQL

```
xyz' AND (SELECT CASE WHEN (Username = 'Administrator' AND SUBSTRING(Password, 1, 1) > 'm') THEN 1/0 ELSE 'a' END)='a--
```

### Explicação

Essa query força o banco de dados a produzir um erro, caso o primeiro caractere da senha do usuário Administrator seja maior que m.


## Time-Based Injection - Injeção Baseada no Tempo

### Descrição

A injeção baseada no tempo é uma forma de injeção cega onde a resposta do servidor é controlada por comandos que introduzem atrasos. Isso ajuda a determinar a verdade ou falsidade de uma condição baseada no tempo de resposta.

### Parâmetro no SQLmap

`T`

### Exemplo de Query SQL

```
1' WAITFOR DELAY '00:00:10'--
```

### Explicação

Se a aplicação demorar 10 segundos para responder, isso indica que o comando foi executado com sucesso, confirmando a vulnerabilidade.


## Stacked Queries - Consultas Empilhadas

### Descrição

A injeção de consultas empilhadas permite a execução de várias consultas SQL em uma única instrução. Isso pode permitir a modificação de dados ou a execução de comandos adicionais.

### Parâmetro no SQLmap

`S`

### Exemplo de Query SQL

```
1'; WAITFOR DELAY '0:0:30'--
```

### Explicação

Esta query injeta uma segunda consulta SQL (`WAITFOR DELAY '0:0:30'`) após a original.


## Command Injection - Injeção de Comando

### Descrição

A injeção de comando ocorre quando a aplicação permite a execução de comandos de sistema operacional a partir da consulta SQL, proporcionando ao atacante acesso ao shell do sistema.

### Parâmetro no SQLmap

`Q`

### Exemplo de Query SQL

```
1'; exec xp_cmdshell('whoami')--
```

### Explicação

Esse exemplo executa o comando `whoami` no shell do sistema operacional através da função `xp_cmdshell` no SQL Server, retornando o nome do usuário que está executando o serviço SQL.

