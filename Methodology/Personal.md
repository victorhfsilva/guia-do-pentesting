# My Personal Methodology

## Reconhecimento 

### Coleta de Informações da área de negócios

1. Buscar por informações sensíveis utilizando Google Dorking.
2. Buscar por informações com o theHarvester.
### Coleta de Informações passiva da área de infra

1. Descobrir dados de um domínio com `whois dominio.com` ou nos sites `https://www.iana.org/whois`, `https://client.rdap.org/`. 
2. Descobrir o bloco de rede do endereço ip com `whois 37.59.174.225` ou no site `https://client.rdap.org/`.
3. Caso a empresa possua um AS próprio é possível consultar seus dados em `https://bgpview.io/`
4. Através do endereço do bloco de rede do alvo é possível obter os domínios de cada endereço IP do bloco de rede através da busca `https://bgp.he.net/net/200.220.176.0/20` .
5. Busque por dados de um endereço ip ou bloco de rede no `https://shodan.io/` ou `https://search.censys.io/`.
6. Busque por dados de um domínio no `https://virustotal.com/`, no `https://dnsdumpster.com/` ou no `https://securitytrails.com/`.
### Coleta de Informações ativa da área de infra

1. Descobrir o endereço ip do domínio com `host`. 
1. Descobrir subdomínios de um domínio após efetuar uma Transferência de Zona DNS utilizando `host -l -a dominio.com ns2.dominio.com`. 
2. Descobrir subdomínios de um domínio com Brute Force de DNS  utilizando wordlists de subdomínios.
3. Também é possível obter estes domínios através de um Scan DNS reverso do bloco de rede.
### Busca por vulnerabilidades de DNS

1. Testar por email spoofing.
2. Testar por subdomain takeover.
### Coleta de Informações da Web

1. Procurar por diretórios no `robot.txt` e `sitemap.xml`.
2. Procurar por listagem de diretórios.
3. Inspecionar o código HTML e JS por diretórios e endpoints escondidos presentes no código. Para isto pode ser útil baixar o mirror do site com `wget -m -e robots=off example.com`
4. Mapear a superfície visível do website de forma manual utilizando o Target>Sitemap do Burp Suite.

5. Inferir diretórios e endpoints usando a notação adotada pelos desenvolvedores.
6. Descobrir diretórios e endpoints escondidos com WFuzz.

## Access Control Vulnerabilities

### Vertical Escalation

1. Procurar por parâmetros (Request Parameters, Path Parameters, Cookies, Headers) que definem acesso a aplicação e tentar alterá-los.
2. Testar escapar a autenticação a diretórios e endpoints manipulando Headers de Requisição Especiais. [Mais Informações](/Web%20Hacking/Server%20Side%20Vulnerabilities/Access%20Control%20Vulnerabilities/Desvio%20de%20Autenticação%20Manipulando%20Headers%20de%20Requisições%20Especiais.md)
3. Testar escapar a autenticação a diretórios e endpoints trocando o método HTTP da requisição. [Mais Informações](/Web%20Hacking/Server%20Side%20Vulnerabilities/Access%20Control%20Vulnerabilities/Desvio%20de%20Autenticação%20Manipulando%20o%20Metódo%20HTTP.md)
4. Testar se discrepâncias na correspondências de URL conseguem desviar a autenticação. [Mais Informações](/Web%20Hacking/Server%20Side%20Vulnerabilities/Access%20Control%20Vulnerabilities/Discrepâncias%20de%20Correspondências%20de%20URL.md)
5. Testar se mudando o header referer para a origem do endpoint é possível escapar à autenticação.

### Horizontal Escalation

1. Testar por vulnerabilidades de Insecure direct object reference (IDOR) adivinhando parâmetros que definam acesso a outros usuários.
2. Caso o parâmetro não seja adivinhável procurar por locais em que os parâmetros estejam expostos no código. 


## SQL Injection

1. Buscar por SQLi em logins através de payloads de bypass de autenticação. 

2. Buscar por SQLi em buscas. 

3. Caso a aplicação seja vulnerável tentar acessar outras tabelas com Union. [Mais Informações](/Web%20Hacking/Injections/SQLi/SQLI%20Union%20Attacks.md)

4. Caso a aplicação seja vulnerável tentar identificar informações sobre o banco de dados. [Mais Informações](/Web%20Hacking/Injections/SQLi/Identificando%20Informações%20sobre%20o%20Banco%20de%20Dados.md)

5. Testar por Blind SQLi através de respostas condicionais. [Mais Informações](/Web%20Hacking/Injections/SQLi/Blind%20SQLi%20através%20de%20Respostas%20Condicionais.md)

6. Testar por Blind SQLi de injeção baseada em Erro. [Mais Informações](/Web%20Hacking/Injections/SQLi/Blind%20SQLi%20através%20de%20Erros%20Condicionais.md)

7. Testar por Blind SQLi de injeção baseada em Tempo. [Mais Informações](/Web%20Hacking/Injections/SQLi/Blind%20SQLi%20através%20de%20Delays%20Condicionais.md)

8. Testar por consultas empilhadas.

9. Testar por injeção de comandos.

10. Buscar por SQLi em inserções.

```sql
INSERT INTO posts (title, body) VALUES ('Test', 'This is a test post'); UPDATE users set password='letmein' WHERE user='administrator' --
```

11. Buscar por SQLi em atualizações.

```sql
UPDATE users SET password = 'letmein' WHERE username = 'admin' --' WHERE username = 'victor'
```

12. Testar por second order sqli.