# Configuração de Switch

## Configurando o Nome do Switch (Hostname)

O nome do dispositivo é útil para identificar e organizar os dispositivos da rede. Para configurar o nome de um switch, você deve definir o *hostname*.

**Comando:**
```
hostname <nome do dispositivo>
```

**Exemplo:**
```
hostname Sw-Floor-1
```

### Convenções de Nomenclatura

Siga estas regras ao nomear seu switch para evitar erros:

- Começar o nome com uma letra.
- Não utilizar espaços.
- Terminar o nome com uma letra ou número.
- Utilizar apenas letras, números e traços.
- O nome deve ter menos de 64 caracteres.


## Configurando Senhas no Switch

Para proteger o switch contra acessos não autorizados, é importante configurar senhas em diferentes modos. A seguir, mostramos como configurar senhas para o modo de usuário, modo privilegiado e sessões remotas (Telnet/SSH).

### Configurando a Senha do Modo EXEC de Usuário

Essa configuração protege o acesso ao switch via console, que é o acesso direto ao dispositivo.

1. Entre no modo privilegiado:
   ```
   enable
   ```

2. Entre no modo de configuração global:
   ```
   configure terminal
   ```

3. Configure a linha de console:
   ```
   line console 0
   ```

4. Defina a senha:
   ```
   password <senha>
   ```

5. Ative o login para exigir a senha:
   ```
   login
   ```

6. Saia da configuração:
   ```
   end
   ```


### Configurando a Senha do Modo EXEC Privilegiado

A senha do modo EXEC privilegiado protege comandos que afetam diretamente a configuração do dispositivo.

1. Entre no modo privilegiado:
   ```
   enable
   ```

2. Entre no modo de configuração global:
   ```
   configure terminal
   ```

3. Configure a senha para o modo privilegiado:
   ```
   enable secret <senha>
   ```

4. Saia do modo de configuração:
   ```
   exit
   ```


### Configurando Senha para Acesso Remoto (VTY)

As linhas VTY são usadas para conexões remotas via Telnet ou SSH. Configurar uma senha para essas conexões garante a segurança no acesso remoto.

1. Entre no modo privilegiado:
   ```
   enable
   ```

2. Entre no modo de configuração global:
   ```
   configure terminal
   ```

3. Configure as linhas VTY (usando de 0 a 15 para até 16 conexões simultâneas):
   ```
   line vty 0 15
   ```

4. Defina a senha:
   ```
   password <senha>
   ```

5. Ative o login para exigir a senha:
   ```
   login
   ```

6. Defina o protocolo de transporte (SSH ou Telnet):
   ```
   transport input {ssh | telnet}
   ```

7. Saia da configuração:
   ```
   end
   ```


### Criptografando Senhas

Por padrão, senhas são armazenadas em texto simples nos arquivos de configuração. Para evitar que elas sejam visualizadas facilmente, criptografe todas as senhas do sistema.

1. Entre no modo de configuração global:
   ```
   configure terminal
   ```

2. Habilite a criptografia das senhas:
   ```
   service password-encryption
   ```


### Diretrizes para Criação de Senhas Seguras

- Use senhas com mais de 8 caracteres.
- Inclua uma combinação de letras maiúsculas e minúsculas, números e caracteres especiais.
- Não reutilize a mesma senha em diferentes dispositivos.
- Evite usar palavras comuns que possam ser facilmente adivinhadas.

## Configurando Banners

Banners são mensagens que aparecem quando alguém tenta acessar o switch. Eles são importantes para avisar usuários não autorizados de que o acesso é restrito. Esses avisos podem ser usados como prova em processos legais, caso necessário.

**Comando para configurar um banner:**
```
configure terminal
banner motd <delimiter> <mensagem> <delimiter>
```

**Exemplo:**
```
configure terminal
banner motd ^

**********************************************
  WARNING: UNAUTHORIZED ACCESS IS PROHIBITED
**********************************************

This device is the property of ABC Corporation. Unauthorized access is strictly prohibited and may be punishable under applicable laws. If you are not an authorized user, please disconnect immediately. By accessing this device, you agree to be bound by the ABC Corporation's acceptable use policy.

^
```


## Configurando a Interface Virtual de Switch (SVI)

Para acessar o switch remotamente via rede, você precisa configurar um endereço IP na Interface Virtual de Switch (SVI). Isso permitirá gerenciar o switch através de uma conexão IP.

**Passos:**

1. Entre no modo privilegiado:
   ```
   enable
   ```

2. Entre no modo de configuração global:
   ```
   configure terminal
   ```

3. Selecione a interface VLAN 1:
   ```
   interface vlan 1
   ```

4. Configure o endereço IP e a máscara de sub-rede:
   ```
   ip address <endereço ip> <máscara de subrede>
   ```

5. Ative a interface:
   ```
   no shutdown
   ```

6. Saia da configuração:
   ```
   exit
   ```

7. Configure o gateway padrão:
   ```
   ip default-gateway <endereço do roteador>
   ```


## Salvando Configurações

Para garantir que as configurações feitas não sejam perdidas após um reinício, é importante salvá-las.

**Comando para salvar as configurações:**
```
copy running-config startup-config
copy startup-config flash
```

Se você quiser limpar as configurações salvas e reiniciar o switch:

```
erase startup-config
reload
```


## Visualizando os Endereços IP das Portas

1. No switch:
   ```
   show ip interface brief
   ```

2. No CMD (no computador):
   ```
   ipconfig show ip interface brief
   ```

