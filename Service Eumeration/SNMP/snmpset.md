# **snmpset**

## Introdução

**snmpset** é uma ferramenta de linha de comando usada para modificar ou configurar informações em dispositivos que utilizam o protocolo **SNMP (Simple Network Management Protocol)**. Ao contrário do **snmpwalk** e do **snmpget**, que são usados para consultar informações, o **snmpset** permite alterar os valores dos objetos gerenciados em dispositivos SNMP, como roteadores, switches, servidores e outros dispositivos de rede.

O **snmpset** faz parte do pacote **Net-SNMP** e oferece suporte para SNMPv1, SNMPv2c e SNMPv3. Ele pode ser utilizado para configurar parâmetros de dispositivos, como alterar o nome do sistema, modificar a configuração da interface de rede, redefinir contadores de interfaces, entre outras tarefas administrativas.

## Características do snmpset

- **Alteração de Parâmetros SNMP**: Modifica valores de objetos gerenciados em dispositivos de rede.
- **Suporte para SNMPv1, SNMPv2c e SNMPv3**: Funciona com as principais versões do protocolo SNMP.
- **Alteração Segura de Valores**: Com suporte para SNMPv3, o **snmpset** permite a autenticação e criptografia de comunicações.
- **Amplamente Utilizado em Administração de Redes**: Usado para configurar dispositivos de rede de forma automatizada e remota.

## Uso Básico do snmpset

O **snmpset** é usado para modificar valores em dispositivos SNMP. Ele requer uma string de comunidade (para SNMPv1 e SNMPv2c) ou credenciais de autenticação (para SNMPv3) para realizar essas alterações.

### Estrutura Básica do Comando

A sintaxe básica do comando **snmpset** é:

```bash
snmpset -v <versão_SNMP> -c <string_de_comunidade> <endereço_IP> <OID> <tipo_de_valor> <novo_valor>
```

- **`-v`**: Define a versão do SNMP (v1, v2c ou v3).
- **`-c`**: Especifica a string de comunidade SNMP.
- **`<endereço_IP>`**: O endereço IP do dispositivo a ser configurado.
- **`<OID>`**: A OID do objeto que será alterado.
- **`<tipo_de_valor>`**: O tipo de dado que será alterado (como inteiro, string, etc.).
- **`<novo_valor>`**: O novo valor a ser configurado para o objeto.

### Tipos de Dados Suportados

Aqui estão os tipos de dados suportados pelo **snmpset**:

- **i**: Inteiro (Integer)
- **u**: Inteiro sem sinal (Unsigned Integer)
- **t**: TimeTicks
- **a**: Endereço IP (IPv4)
- **o**: OID (Object Identifier)
- **s**: String (Octet String)
- **x**: String hexadecimal (Hexadecimal String)
- **d**: String decimal (Decimal String)
- **b**: String binária (Binary String)

### Exemplo de Alteração de Nome de Sistema

Um exemplo comum de uso do **snmpset** é alterar o nome do sistema (sysName) de um dispositivo SNMP.

**Exemplo**:

```bash
snmpset -v 2c -c public 192.168.1.1 1.3.6.1.2.1.1.5.0 s "NovoNomeDoSistema"
```

Neste exemplo:
- **`-v 2c`**: Estamos usando SNMPv2c.
- **`-c public`**: A string de comunidade é **public**.
- **`192.168.1.1`**: O IP do dispositivo que estamos configurando.
- **`1.3.6.1.2.1.1.5.0`**: OID do nome do sistema (sysName).
- **`s`**: Indica que o valor é uma string.
- **`"NovoNomeDoSistema"`**: O novo valor que será atribuído ao nome do sistema.

### Alterando um Endereço IP de Interface

Você também pode usar o **snmpset** para alterar o endereço IP de uma interface em um dispositivo SNMP.

**Exemplo**:

```bash
snmpset -v 2c -c public 192.168.1.1 1.3.6.1.2.1.4.20.1.1.192.168.1.2 a 192.168.1.3
```

Neste exemplo, o **snmpset** está alterando o endereço IP **192.168.1.2** para **192.168.1.3** na interface de rede do dispositivo.

### Exemplo Usando SNMPv3 com Autenticação e Criptografia

Quando se utiliza **SNMPv3**, o **snmpset** requer credenciais adicionais, como nome de usuário, senha de autenticação e, opcionalmente, criptografia.

**Exemplo de Alteração do Nome de Sistema usando SNMPv3**:

```bash
snmpset -v 3 -u usuario -l authPriv -a MD5 -A senha_autenticacao -x DES -X senha_privacidade 192.168.1.1 1.3.6.1.2.1.1.5.0 s "NovoNomeDoSistema"
```

Neste exemplo:
- **`-v 3`**: Estamos usando SNMPv3.
- **`-u usuario`**: Nome de usuário SNMPv3.
- **`-l authPriv`**: Nível de segurança, com autenticação e criptografia.
- **`-a MD5`**: Algoritmo de autenticação (pode ser **MD5** ou **SHA**).
- **`-A senha_autenticacao`**: Senha de autenticação.
- **`-x DES`**: Algoritmo de criptografia (pode ser **DES** ou **AES**).
- **`-X senha_privacidade`**: Senha de privacidade (usada para criptografia).
- **`1.3.6.1.2.1.1.5.0`**: OID do nome do sistema (sysName).
- **`s`**: Tipo de dado string.
- **`"NovoNomeDoSistema"`**: O novo valor para o nome do sistema.

### Exemplo de Reset de Contador de Interface

É possível redefinir o contador de uma interface de rede para zero usando o **snmpset**.

**Exemplo**:

```bash
snmpset -v 2c -c public 192.168.1.1 1.3.6.1.2.1.2.2.1.10.1 i 0
```

Nesse exemplo, estamos redefinindo o contador de octetos recebidos (`ifInOctets`) da interface de rede de índice **1** para **0**.

### Considerações de Segurança ao Usar o snmpset

O uso do **snmpset** requer atenção, pois ele altera informações em dispositivos de rede, o que pode impactar diretamente a operação dos sistemas.
