# Verificando a Rede com IOS (Sistema Operacional Interno da Cisco)

### Ping Estendido no IOS

O *Ping Estendido* é uma forma avançada de testar a conectividade da rede. Em vez de apenas fornecer um endereço IP de destino, você pode ajustar vários parâmetros.

**Passo a Passo:**
1. No prompt do roteador, simplesmente digite `ping` sem especificar um endereço IP de destino. Isso iniciará o processo de ping estendido.

2. O sistema irá então solicitar uma série de informações, como protocolo, endereço de origem, tamanho do datagrama, e mais. Você pode pressionar "Enter" para aceitar os valores padrão ou especificar outros valores.

**Exemplo Completo:**
```
R1# ping
Protocol [ip]:   (deixe em branco para usar IP)
Target IP address: 10.1.1.10
Repeat count [5]:   (quantidade de pings)
Datagram size [100]:   (tamanho do pacote)
Timeout in seconds [2]:   (tempo de espera para resposta)
Extended commands [n]: y   (digite 'y' para acessar opções avançadas)
Source address or interface: 192.168.10.1   (endereço de origem)
...
```

Para realizar um ping estendido para endereços IPv6, basta usar o comando `ping ipv6`.

### Traceroute Estendido no IOS

Semelhante ao ping estendido, o *Traceroute Estendido* permite que você rastreie o caminho que os pacotes seguem até o destino, ajustando parâmetros avançados.

**Passo a Passo:**
1. No prompt do roteador, digite `traceroute` sem especificar um IP de destino.

2. O sistema pedirá informações como o endereço de destino, o endereço de origem e várias opções adicionais, como número de tentativas por hop e tempo de espera.

**Exemplo Completo:**
```
R1# traceroute
Protocol [ip]:   (deixe em branco para usar IP)
Target IP address: 10.1.1.10
Source address: 192.168.10.1   (endereço de origem)
Timeout in seconds [3]:   (tempo de espera para resposta)
...
```

### Verificando o Cache ARP

O cache ARP contém os mapeamentos de endereços IP para endereços MAC que o dispositivo conhece.

**Comando para exibir o cache ARP:**
```
arp -a
```

**Comando para limpar o cache ARP:**
```
netsh interface ip delete arpcache
```

### Exibindo a Configuração Atual

O comando `show running-config` exibe a configuração atual do dispositivo (a configuração que está em execução no momento).

**Comando:**
```
show running-config
```

### Verificar o Estado das Interfaces

Para verificar o status das interfaces do roteador (se estão ativas, o tráfego que está passando, etc.), use o comando:

**Comando:**
```
show interfaces
```


### Verificar Informações da Camada 3 nas Interfaces

Se você deseja ver as informações de IP nas interfaces do roteador, como o endereço IP atribuído e o estado da interface, use:

**Comando:**
```
show ip interface
```

**Para uma saída mais resumida:**
```
show ip interface brief
```


### Verificar a Lista de Nós Conhecidos (Tabela ARP)

Para visualizar os nós da rede local que o roteador conhece através de endereços IP e MAC, use o comando:

**Comando:**
```
show arp
```

### Verificar a Tabela de Rotas

A tabela de rotas mostra as rotas que o roteador conhece e como ele encaminha pacotes para diferentes redes.

**Comando para IPv4:**
```
show ip route
```

**Comando para IPv6:**
```
show ipv6 route
```

### Verificar Protocolos Operacionais

Este comando exibe informações sobre os protocolos de rede que estão atualmente habilitados e operacionais no roteador.

**Comando:**
```
show protocols
```

### Verificar Informações do Dispositivo

Se você quiser verificar a versão do software do IOS, a quantidade de memória disponível, as interfaces e outras informações sobre o dispositivo, use o comando:

**Comando:**
```
show version
```

### Descobrir Dispositivos Cisco Vizinhos

O *Cisco Discovery Protocol* (CDP) permite descobrir dispositivos Cisco adjacentes conectados ao roteador.

**Comando:**
```
show cdp neighbor detail
```

- Para desativar o CDP em todo o dispositivo: `no cdp run`.
- Para desativar o CDP em uma interface específica: `no cdp enable`.

### Usando Depuração

A depuração (*debug*) permite visualizar em tempo real as mensagens de um protocolo específico, útil para solucionar problemas de rede.

**Comando para ativar a depuração de um protocolo:**
```
debug <protocol>
```

**Exemplo:**
```
debug ip icmp
ping 192.168.0.1
```

**Para desativar a depuração:**
```
no debug ip icmp
```
ou
```
undebug ip icmp
```
ou
```
undebug all
```

### Exibir Logs de Depuração em Conexões Remotas

Por padrão, mensagens de depuração não são exibidas em sessões remotas (como Telnet ou SSH). Para visualizar essas mensagens em uma sessão remota, use:

**Comando:**
```
terminal monitor
```

**Exemplo Completo:**
```
debug ip icmp
terminal monitor
ping 192.168.0.1
```
